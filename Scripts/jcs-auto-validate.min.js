(function(n){"use strict";n.module("jcs-autoValidate",[])})(angular),function(n){"use strict";n.module("jcs-autoValidate").provider("validator",[function(){var n={},t=!0,i=!0,u=function(n){var t;return n&&n.length!==0?(t=n.toLowerCase(),n=!(t==="f"||t==="0"||t==="false")):n=!1,n},f=function(n,t){var i;return n!==undefined&&(i=n.attr(t)||n.attr("data-"+t)),i},r=function(n,t){return u(f(n,t))},e=function(n){return t&&!r(n,"disable-valid-styling")},o=function(n){return i&&!r(n,"disable-invalid-styling")};this.setDefaultElementModifier=function(t){if(n[t]===undefined)throw new Error("Element modifier not registered: "+t);this.defaultElementModifier=t};this.registerDomModifier=function(t,i){n[t]=i};this.setErrorMessageResolver=function(n){this.errorMessageResolver=n};this.getErrorMessage=function(n,t){if(this.errorMessageResolver===undefined)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(n,t)};this.setValidElementStyling=function(n){t=n};this.setInvalidElementStyling=function(n){i=n};this.getDomModifier=function(t){var i=(t!==undefined?t.attr("element-modifier"):this.defaultElementModifier)||(t!==undefined?t.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(i===undefined)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return n[i]};this.makeValid=function(n){e(n)?this.getDomModifier(n).makeValid(n):this.makeDefault(n)};this.makeInvalid=function(n,t){o(n)?this.getDomModifier(n).makeInvalid(n,t):this.makeDefault(n)};this.makeDefault=function(n){var t=this.getDomModifier(n);t.makeDefault&&t.makeDefault(n)};this.$get=[function(){return this}]}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").factory("bootstrap3ElementModifier",[function(){var t=function(t){n.forEach(t.find("span"),function(t){t=n.element(t);(t.hasClass("error-msg")||t.hasClass("form-control-feedback"))&&t.remove()});t.removeClass("has-success has-error has-feedback")},i=function(n){for(var t=n,i=0;i<=3;i+=1)if(t!==undefined&&t.hasClass("form-group"))break;else t!==undefined&&(t=t.parent());return t},r=function(n,t){n[0].parentNode.insertBefore(t[0],n[0].nextSibling)},u=!1,f=function(n){u=n},e=function(f){var e=i(f);t(e);e.addClass("has-success has-feedback");u&&r(f,n.element('<span class="glyphicon glyphicon-ok form-control-feedback"><\/span>'))},o=function(f,e){var o=i(f),s=n.element('<span class="help-block has-error error-msg">'+e+"<\/span>");t(o);o.addClass("has-error has-feedback");r(f,s);u&&r(f,n.element('<span class="glyphicon glyphicon-remove form-control-feedback"><\/span>'))},s=function(n){var r=i(n);t(r)};return{makeValid:e,makeInvalid:o,makeDefault:s,enableValidationStateIcons:f,key:"bs3"}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(t){var i=function(i,r,u){r=n.isUndefined(r)?0:r;u=n.isUndefined(u)?!0:u;var f=0;return function(){var e=this,o=arguments,n;return f+=1,n=function(n){return function(){if(n===f)return i.apply(e,o)}}(f),t(n,r,u)}};return{debounce:i}}])}(angular),function(n,t){"use strict";"format"in n.prototype||(n.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!==undefined?n[i]:t})});t.autoValidate=t.autoValidate||{errorMessages:{}};t.autoValidate.errorMessages["en-us"]=t.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"};t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(n,i){var r="en-gb",f="Scripts/i18n",u,o=function(n){return u=i.get("{0}/jcs-auto-validate_{1}.json".format(f,n.toLowerCase()))},s=function(n){f=n},h=function(i,f){var e=n.defer();return f=f||o,r=i.toLowerCase(),t.autoValidate.errorMessages[r]===undefined?(u=f(i),u.then(function(n){u=undefined;t.autoValidate.errorMessages[r]=n.data;e.resolve(t.autoValidate.errorMessages[r])},function(n){t.autoValidate.errorMessages[r]={defaultMsg:"Loading culture failed!"};u=null;e.reject(n)})):e.resolve(t.autoValidate.errorMessages[r]),e.promise},c=function(i){var f=n.defer();return i=i===undefined?r:i.toLowerCase(),u!==undefined?u.then(function(){f.resolve(t.autoValidate.errorMessages[i])},function(n){f.reject(n)}):f.resolve(t.autoValidate.errorMessages[i]),f.promise},l=function(n,t){var i;return t&&(n+="-err-type",i=t.attr(n),i===undefined&&(i=t.attr("data-ng-"+n)||t.attr("ng-"+n))),i},e=function(i,f){var h=n.defer(),o,a=[],s,c;if(u!==undefined)u.then(function(){e(i,f).then(function(n){h.resolve(n)})});else{if(o=t.autoValidate.errorMessages[r][i],c=l(i,f),c&&(o=t.autoValidate.errorMessages[r][c]),o===undefined&&(o=t.autoValidate.errorMessages[r].defaultMsg.format(i)),f&&f.attr)try{s=f.attr(i);s===undefined&&(s=f.attr("data-ng-"+i)||f.attr("ng-"+i));a.push(s||"");o=o.format(a)}catch(v){}h.resolve(o)}return h.promise};return{setI18nFileRootPath:s,setCulture:h,getErrorMessages:c,resolve:e}}])}(String,angular),function(n){"use strict";n.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var t=function(t,i){n.forEach(t.find("small"),function(t){n.element(t).hasClass("error")&&n.element(t).remove()});i.removeClass("error")},i=function(n){for(var t=n,i=0;i<=3;i+=1)if(t!==undefined&&t.hasClass("columns"))break;else t!==undefined&&(t=t.parent());return t},r=function(n){var r=i(n);t(r&&r.length>0?r:n,n)},u=function(r,u){var f=i(r),e;t(f||r,r);r.addClass("error");f&&(e=n.element('<small class="error">'+u+"<\/small>"),f.append(e))},f=function(n){r(n)};return{makeValid:r,makeInvalid:u,makeDefault:f,key:"foundation5"}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").factory("validationManager",["validator",function(t){var e=["input","textarea","select","form"],i=function(n){return n&&n.length>0&&e.indexOf(n[0].nodeName.toLowerCase())>-1},r=function(r,u,f){var e=!0,s=r.$pristine===!1||f,o,h=function(t){var i=!0,r;return n.forEach(t,function(n,t){i&&n&&(i=!1,r=t)}),r};return i(u)&&r&&s&&(e=!r.$invalid,e?t.makeValid(u):(o=h(r.$error),t.getErrorMessage(o,u).then(function(n){t.makeInvalid(u,n)}))),e},o=function(n){t.makeDefault(n)},u=function(t){n.forEach(t[0],function(t){var i,r=n.element(t);i=r.controller("ngModel");i!==undefined&&(r[0].nodeName.toLowerCase()==="form"?u(r):i.$setPristine())})},f=function(t){var u=!0;return t===undefined?!1:(n.forEach(t[0],function(t){var e,o;t=n.element(t);e=t.controller("ngModel");e!==undefined&&i(t)&&(t[0].nodeName.toLowerCase()==="form"?f(t):(o=r(e,t,!0),u=u&&o))}),u)};return{validateElement:r,validateForm:f,resetElement:o,resetForm:u}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").directive("form",["validationManager",function(n){return{restrict:"E",link:function(t,i){i.on("reset",function(){n.resetForm(i)});t.$on("$destroy",function(){i.off("reset")})}}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").config(["$provide",function(n){n.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(n,t,i){return n[0].compile=function(n,r){var u=t(r.ngSubmit),f=r.ngSubmitForce==="true";return function(n,t){t.on("submit",function(r){n.$apply(function(){(f===!0||i.validateForm(t))&&u(n,{$event:r})})})}},n}])}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").config(["$provide",function(t){t.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(t,i,r,u){var e=i[0],f=e.link;return e.compile=function(){return function(t,i,e,o){var s=o[0],l=n.version.major>=1&&n.version.minor>=3,h=e.ngModelOptions===undefined?undefined:t.$eval(e.ngModelOptions),a=s.$setValidity,v=s.$setPristine,c=u.debounce(function(){r.validateElement(s,i)},100);if(f.pre&&(f.pre.apply(this,arguments),h=s.$options===undefined?undefined:s.$options),e.formnovalidate===undefined){if(l||h===undefined||h.updateOn===undefined||h.updateOn==="")s.$setValidity=function(n,t){a.call(s,n,t);c()};else{i.on(h.updateOn,function(){c()});t.$on("$destroy",function(){i.off(h.updateOn)})}s.$setPristine=function(){v.call(s);r.resetElement(i)};s.autoValidated=!0}f.post?f.post.apply(this,arguments):f.apply(this,arguments)}},i}])}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(n,t,i,r){n.setErrorMessageResolver(t.resolve);n.registerDomModifier(i.key,i);n.registerDomModifier(r.key,r);n.setDefaultElementModifier(i.key)}])}(angular);
/*
//# sourceMappingURL=jcs-auto-validate.min.js.map
*/