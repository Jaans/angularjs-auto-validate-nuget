(function(n){"use strict";n.module("jcs-autoValidate",[])})(angular),function(n){"use strict";n.module("jcs-autoValidate").provider("validator",[function(){var n={},t=!0,i=!0,r=!0,f=function(n){var t;return n&&n.length!==0?(t=n.toLowerCase(),n=!(t==="f"||t==="0"||t==="false")):n=!1,n},e=function(n,t){var i;return n!==undefined&&(i=n.attr(t)||n.attr("data-"+t)),i},u=function(n,t){return f(e(n,t))},o=function(n){return t&&!u(n,"disable-valid-styling")},s=function(n){return i&&!u(n,"disable-invalid-styling")};this.enable=function(n){r=n};this.isEnabled=function(){return r};this.setDefaultElementModifier=function(t){if(n[t]===undefined)throw new Error("Element modifier not registered: "+t);this.defaultElementModifier=t};this.registerDomModifier=function(t,i){n[t]=i};this.setErrorMessageResolver=function(n){this.errorMessageResolver=n};this.getErrorMessage=function(n,t){if(this.errorMessageResolver===undefined)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(n,t)};this.setValidElementStyling=function(n){t=n};this.setInvalidElementStyling=function(n){i=n};this.getDomModifier=function(t){var i=(t!==undefined?t.attr("element-modifier"):this.defaultElementModifier)||(t!==undefined?t.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(i===undefined)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return n[i]};this.makeValid=function(n){o(n)?this.getDomModifier(n).makeValid(n):this.makeDefault(n)};this.makeInvalid=function(n,t){s(n)?this.getDomModifier(n).makeInvalid(n,t):this.makeDefault(n)};this.makeDefault=function(n){var t=this.getDomModifier(n);t.makeDefault&&t.makeDefault(n)};this.$get=[function(){return this}]}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").factory("bootstrap3ElementModifier",["$log",function(t){var i=function(t){n.forEach(t.find("span"),function(t){t=n.element(t);(t.hasClass("error-msg")||t.hasClass("form-control-feedback")||t.hasClass("control-feedback"))&&t.remove()});t.removeClass("has-success has-error has-feedback")},s=function(n,t){for(var r,i=n,u=0;u<=3;u+=1)if(i!==undefined&&i.hasClass(t)){r=i;break}else i!==undefined&&(i=i.parent());return r},e=function(t,i){for(var r,u=0;u<t.children.length;u+=1)if(r=t.children[u],r!==undefined&&n.element(r).hasClass(i))break;else if(r.children!==undefined&&(r=e(r,i),r.length>0))break;return n.element(r)},r=function(n){return s(n,"form-group")},o=function(n){return e(n,"input-group")},u=function(n,t){n[0].parentNode.insertBefore(t[0],n[0].nextSibling)},f=!1,h=function(n){f=n},c=function(e){var h=r(e),c,s;h?(i(h),c=o(h[0]),h.addClass("has-success "+(c.length>0?"":"has-feedback")),f&&(s='<span class="glyphicon glyphicon-ok form-control-feedback"><\/span>',c.length>0&&(s=s.replace("form-",""),s='<span class="input-group-addon control-feedback">'+s+"<\/span"),u(e,n.element(s)))):t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},l=function(e,s){var l=r(e),a=n.element('<span class="help-block has-error error-msg">'+s+"<\/span>"),c,h;l?(i(l),c=o(l[0]),l.addClass("has-error "+(c.length>0?"":"has-feedback")),u(c.length>0?c:e,a),f&&(h='<span class="glyphicon glyphicon-remove form-control-feedback"><\/span>',c.length>0&&(h=h.replace("form-",""),h='<span class="input-group-addon control-feedback">'+h+"<\/span"),u(e,n.element(h)))):t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},a=function(n){var t=r(n);i(t)};return{makeValid:c,makeInvalid:l,makeDefault:a,enableValidationStateIcons:h,key:"bs3"}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(t){var i=function(i,r,u){r=n.isUndefined(r)?0:r;u=n.isUndefined(u)?!0:u;var f=0;return function(){var e=this,o=arguments,n;return f+=1,n=function(n){return function(){if(n===f)return i.apply(e,o)}}(f),t(n,r,u)}};return{debounce:i}}])}(angular),function(n,t){"use strict";"format"in n.prototype||(n.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!==undefined?n[i]:t})});t.autoValidate=t.autoValidate||{errorMessages:{}};t.autoValidate.errorMessages["en-us"]=t.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"};t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(n,i){var r="en-gb",f="js/angular-auto-validate/dist/lang",u,o=function(n){return u=i.get("{0}/jcs-auto-validate_{1}.json".format(f,n.toLowerCase()))},s=function(n){f=n},h=function(i,f){var e=n.defer();return f=f||o,r=i.toLowerCase(),t.autoValidate.errorMessages[r]===undefined?(u=f(i),u.then(function(n){u=undefined;t.autoValidate.errorMessages[r]=n.data;e.resolve(t.autoValidate.errorMessages[r])},function(n){t.autoValidate.errorMessages[r]={defaultMsg:"Loading culture failed!"};u=null;e.reject(n)})):e.resolve(t.autoValidate.errorMessages[r]),e.promise},c=function(i){var f=n.defer();return i=i===undefined?r:i.toLowerCase(),u!==undefined?u.then(function(){f.resolve(t.autoValidate.errorMessages[i])},function(n){f.reject(n)}):f.resolve(t.autoValidate.errorMessages[i]),f.promise},l=function(n,t){var i;return t&&(n+="-err-type",i=t.attr(n),i===undefined&&(i=t.attr("data-ng-"+n)||t.attr("ng-"+n)),i&&(i=i.replace(/[\W]/g,""))),i},e=function(i,f){var h=n.defer(),o,a=[],s,c;if(u!==undefined)u.then(function(){e(i,f).then(function(n){h.resolve(n)})});else{if(o=t.autoValidate.errorMessages[r][i],c=l(i,f),c&&(o=t.autoValidate.errorMessages[r][c]),o===undefined&&(o=t.autoValidate.errorMessages[r].defaultMsg.format(i)),f&&f.attr)try{s=f.attr(i);s===undefined&&(s=f.attr("data-ng-"+i)||f.attr("ng-"+i));a.push(s||"");o=o.format(a)}catch(v){}h.resolve(o)}return h.promise};return{setI18nFileRootPath:s,setCulture:h,getErrorMessages:c,resolve:e}}])}(String,angular),function(n){"use strict";n.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var t=function(t,i){n.forEach(t.find("small"),function(t){n.element(t).hasClass("error")&&n.element(t).remove()});i.removeClass("error")},i=function(n){for(var t=n,i=0;i<=3;i+=1)if(t!==undefined&&t.hasClass("columns"))break;else t!==undefined&&(t=t.parent());return t},r=function(n){var r=i(n);t(r&&r.length>0?r:n,n)},u=function(r,u){var f=i(r),e;t(f||r,r);r.addClass("error");f&&(e=n.element('<small class="error">'+u+"<\/small>"),f.append(e))},f=function(n){r(n)};return{makeValid:r,makeInvalid:u,makeDefault:f,key:"foundation5"}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").factory("jcs-elementUtils",[function(){var n=function(n){return n[0].offsetWidth>0&&n[0].offsetHeight>0};return{isElementVisible:n}}]);n.module("jcs-autoValidate").factory("validationManager",["validator","jcs-elementUtils",function(t,i){var o=["input","textarea","select","form"],s=function(n){return i.isElementVisible(n)},r=function(n){return n&&n.length>0&&s(n)&&o.indexOf(n[0].nodeName.toLowerCase())>-1},u=function(i,u,f){var e=!0,s=i.$pristine===!1||f,o,h=function(t){var i=!0,r;return n.forEach(t,function(n,t){i&&n&&(i=!1,r=t)}),r};return(f||r(u)&&i&&s)&&(e=!i.$invalid,e?t.makeValid(u):(o=h(i.$error),o===undefined?e=!0:t.getErrorMessage(o,u).then(function(n){t.makeInvalid(u,n)}))),e},h=function(n){t.makeDefault(n)},f=function(t){n.forEach(t[0],function(t){var i,r=n.element(t);i=r.controller("ngModel");i!==undefined&&(r[0].nodeName.toLowerCase()==="form"?f(r):i.$setPristine())})},e=function(t){var i=!0,f=t?n.element(t).controller("form"):undefined,o=function(t,f){var o,s;t=n.element(t);o=t.controller("ngModel");o!==undefined&&(f||r(t))&&(t[0].nodeName.toLowerCase()==="form"?e(t):(s=u(o,t,!0),i=i&&s))};return t===undefined||f!==undefined&&f.disableDynamicValidation?t!==undefined:(n.forEach(t[0],function(n){o(n)}),t[0].customHTMLFormControlsCollection&&n.forEach(t[0].customHTMLFormControlsCollection,function(n){o(n,!0)}),i)},c=function(n,i,r){i?t.getErrorMessage(i,n).then(function(i){t.makeInvalid(n,i)}):t.makeInvalid(n,r)};return{setElementValidationError:c,validateElement:u,validateForm:e,resetElement:h,resetForm:f}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").directive("form",["validationManager",function(n){return{restrict:"E",link:function(t,i){i.on("reset",function(){n.resetForm(i)});t.$on("$destroy",function(){i.off("reset")})}}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").directive("registerCustomFormControl",[function(){var t=function(t){for(var i=t,r=0;r<=10;r+=1)if(i!==undefined&&i.nodeName.toLowerCase()==="form")break;else i!==undefined&&(i=n.element(i).parent()[0]);return i};return{restrict:"A",link:function(n,i){var r=t(i.parent()[0]);r&&(r.customHTMLFormControlsCollection=r.customHTMLFormControlsCollection||[],r.customHTMLFormControlsCollection.push(i[0]))}}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").directive("form",["validator",function(n){return{restrict:"E",require:"form",compile:function(){return{pre:function(t,i,r,u){u.disableDynamicValidation=!n.isEnabled();r.disableDynamicValidation!==undefined&&(u.disableDynamicValidation=r.disableDynamicValidation===undefined||r.disableDynamicValidation===""||r.disableDynamicValidation==="true")}}}}}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").config(["$provide",function(n){n.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(n,t,i){return n[0].compile=function(n,r){var u=t(r.ngSubmit),f=r.ngSubmitForce==="true";return function(n,t){t.on("submit",function(r){n.$apply(function(){(i.validateForm(t)||f===!0)&&u(n,{$event:r})})})}},n}])}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").config(["$provide",function(t){t.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(t,i,r,u){var e=i[0],f=e.link||e.compile;return e.compile=function(t){return function(i,e,o,s){var h=s[0],c=s[1],a=n.version.major>=1&&n.version.minor>=3,l=o.ngModelOptions===undefined?undefined:i.$eval(o.ngModelOptions),y=h.$setValidity,p=h.$setPristine,v=u.debounce(function(){r.validateElement(h,e)},100);if(a&&n.isFunction(f)&&(f=f(t)),f.pre&&(f.pre.apply(this,arguments),l=h.$options===undefined?undefined:h.$options),o.formnovalidate===undefined||c!==undefined&&c.disableDynamicValidation===!1){if(a||l===undefined||l.updateOn===undefined||l.updateOn==="")h.$setValidity=function(n,t){y.call(h,n,t);v()};else{e.on(l.updateOn,function(){v()});i.$on("$destroy",function(){e.off(l.updateOn)})}h.$setPristine=function(){p.call(h);r.resetElement(e)};h.autoValidated=!0}f.post?f.post.apply(this,arguments):f.apply(this,arguments);h.setExternalValidation=function(n,t,i){i&&(h.$error?h.$error[n]=!1:h.$errors[n]=!1);r.setElementValidationError(e,n,t)};h.removeExternalValidation=function(n,t){t&&(h.$error?h.$error[n]=!0:h.$errors[n]=!0);r.resetElement(e)};c&&(c.setExternalValidation=function(n,t,i,r){var u=!1;return c[n]&&(c[n].setExternalValidation(t,i,r),u=!0),u},c.removeExternalValidation=function(n,t,i,r){var u=!1;return c[n]&&(c[n].removeExternalValidation(t,r),u=!0),u})}},i}])}])}(angular),function(n){"use strict";n.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(n,t,i,r){n.setErrorMessageResolver(t.resolve);n.registerDomModifier(i.key,i);n.registerDomModifier(r.key,r);n.setDefaultElementModifier(i.key)}])}(angular);
//# sourceMappingURL=jcs-auto-validate.min.js.map
